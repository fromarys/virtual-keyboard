!function(){"use strict";var e=[{code:"Backquote",en:"~",enShift:"±",ru:"ё",ruShift:"Ё",row:0,place:0},{code:"Digit1",en:"1",enShift:"!",ru:"1",ruShift:"!",row:0,place:1},{code:"Digit2",en:"2",enShift:"@",ru:"2",ruShift:'"',row:0,place:2},{code:"Digit3",en:"3",enShift:"#",ru:"3",ruShift:"№",row:0,place:3},{code:"Digit4",en:"4",enShift:"$",ru:"4",ruShift:";",row:0,place:4},{code:"Digit5",en:"5",enShift:"%",ru:"5",ruShift:"%",row:0,place:5},{code:"Digit6",en:"6",enShift:"^",ru:"6",ruShift:":",row:0,place:6},{code:"Digit7",en:"7",enShift:"&",ru:"7",ruShift:"?",row:0,place:7},{code:"Digit8",en:"8",enShift:"*",ru:"8",ruShift:"*",row:0,place:8},{code:"Digit9",en:"9",enShift:"(",ru:"9",ruShift:"(",row:0,place:9},{code:"Digit0",en:"0",enShift:")",ru:"0",ruShift:")",row:0,place:10},{code:"Minus",en:"-",enShift:"_",ru:"-",ruShift:"_",row:0,place:11},{code:"Equal",en:"=",enShift:"+",ru:"=",ruShift:"+",row:0,place:12},{code:"Backspace",system:!0,name:"Backspace",classes:"keyboard__button backspace",row:0,place:13},{code:"Tab",system:!0,name:"Tab",classes:"keyboard__button tab",row:1,place:0},{code:"KeyQ",en:"q",enShift:"Q",ru:"й",ruShift:"Й",row:1,place:1},{code:"KeyW",en:"w",enShift:"W",ru:"ц",ruShift:"Ц",row:1,place:2},{code:"KeyE",en:"e",enShift:"E",ru:"у",ruShift:"У",row:1,place:3},{code:"KeyR",en:"r",enShift:"R",ru:"к",ruShift:"К",row:1,place:4},{code:"KeyT",en:"t",enShift:"T",ru:"е",ruShift:"Е",row:1,place:5},{code:"KeyY",en:"y",enShift:"Y",ru:"н",ruShift:"Н",row:1,place:6},{code:"KeyU",en:"u",enShift:"U",ru:"г",ruShift:"Г",row:1,place:7},{code:"KeyI",en:"i",enShift:"I",ru:"ш",ruShift:"Ш",row:1,place:8},{code:"KeyO",en:"o",enShift:"O",ru:"щ",ruShift:"Щ",row:1,place:9},{code:"KeyP",en:"p",enShift:"P",ru:"з",ruShift:"З",row:1,place:10},{code:"BracketLeft",en:"[",enShift:"{",ru:"х",ruShift:"Х",row:1,place:11},{code:"BracketRight",en:"]",enShift:"}",ru:"ъ",ruShift:"Ъ",row:1,place:12},{code:"Delete",system:!0,name:"Del",classes:"keyboard__button delete",row:1,place:13},{code:"CapsLock",system:!0,name:"Capslock",classes:"keyboard__button capslock",row:2,place:0},{code:"KeyA",en:"a",enShift:"A",ru:"ф",ruShift:"Ф",row:2,place:1},{code:"KeyS",en:"s",enShift:"S",ru:"ы",ruShift:"Ы",row:2,place:2},{code:"KeyD",en:"d",enShift:"D",ru:"в",ruShift:"В",row:2,place:3},{code:"KeyF",en:"f",enShift:"F",ru:"а",ruShift:"А",row:2,place:4},{code:"KeyG",en:"g",enShift:"G",ru:"п",ruShift:"П",row:2,place:5},{code:"KeyH",en:"h",enShift:"H",ru:"р",ruShift:"Р",row:2,place:6},{code:"KeyJ",en:"j",enShift:"J",ru:"о",ruShift:"О",row:2,place:7},{code:"KeyK",en:"k",enShift:"K",ru:"л",ruShift:"Л",row:2,place:8},{code:"KeyL",en:"l",enShift:"L",ru:"д",ruShift:"Д",row:2,place:9},{code:"Semicolon",en:";",enShift:":",ru:"ж",ruShift:"Ж",row:2,place:10},{code:"Quote",en:"'",enShift:'"',ru:"э",ruShift:"Э",row:2,place:11},{code:"Backslash",en:"\\",enShift:"|",ru:"\\",ruShift:"/",row:2,place:12},{code:"Enter",system:!0,name:"Enter",classes:"keyboard__button enter",row:2,place:13},{code:"ShiftLeft",system:!0,name:"Shift",classes:"keyboard__button shift shift_left",row:3,place:0},{code:"KeyZ",en:"z",enShift:"Z",ru:"я",ruShift:"Я",row:3,place:1},{code:"KeyX",en:"x",enShift:"X",ru:"ч",ruShift:"Ч",row:3,place:2},{code:"KeyC",en:"c",enShift:"C",ru:"с",ruShift:"С",row:3,place:3},{code:"KeyV",en:"v",enShift:"V",ru:"м",ruShift:"М",row:3,place:4},{code:"KeyB",en:"b",enShift:"B",ru:"и",ruShift:"И",row:3,place:5},{code:"KeyN",en:"n",enShift:"N",ru:"т",ruShift:"Т",row:3,place:6},{code:"KeyM",en:"m",enShift:"M",ru:"ь",ruShift:"Ь",row:3,place:7},{code:"Comma",en:",",enShift:"<",ru:"б",ruShift:"Б",row:3,place:8},{code:"Period",en:".",enShift:">",ru:"ю",ruShift:"Ю",row:3,place:9},{code:"Slash",en:"/",enShift:"?",ru:".",ruShift:",",row:3,place:10},{code:"ArrowUp",en:"↑",enShift:"↑",ru:"↑",ruShift:"↑",classes:"keyboard__button arrow arrow_up",row:3,place:11},{code:"ShiftRight",system:!0,name:"Shift",classes:"keyboard__button shift shift_right",row:3,place:12},{code:"ControlLeft",system:!0,name:"Ctrl",classes:"keyboard__button ctrl ctrl_left",row:4,place:0},{code:"MetaLeft",system:!0,name:"Win",classes:"keyboard__button win win_left",row:4,place:2},{code:"AltLeft",system:!0,name:"Alt",classes:"keyboard__button alt alt_left",row:4,place:1},{code:"Space",system:!0,name:"Space",classes:"keyboard__button space",row:4,place:3},{code:"ControlRight",system:!0,name:"Ctrl",classes:"keyboard__button ctrl ctrl_right",row:4,place:4},{code:"ArrowLeft",en:"←",enShift:"←",ru:"←",ruShift:"←",classes:"keyboard__button arrow arrow_left",row:4,place:5},{code:"ArrowDown",en:"↓",enShift:"↓",ru:"↓",ruShift:"↓",classes:"keyboard__button arrow arrow_down",row:4,place:6},{code:"ArrowRight",en:"→",enShift:"→",ru:"→",ruShift:"→",classes:"keyboard__button arrow arrow_right",row:4,place:7},{code:"AltRight",system:!0,name:"Alt",classes:"keyboard__button alt alt_right",row:4,place:8}];window.onload=()=>{const t=document.createElement("div");t.classList.add("wrapper"),document.body.append(t);const r=document.createElement("h1");r.classList.add("title"),r.innerHTML="Virtual Keyboard",t.append(r);const a=document.createElement("textarea");a.classList.add("textarea"),t.append(a);const o=document.createElement("div");o.classList.add("keyboard"),t.append(o);const c=document.createElement("p");c.classList.add("readme"),c.innerHTML="Клавиатура создана в операционной системе Windows <br> Сменить раскладку клавиатуры можно нажатием клавиш <strong>Ctrl</strong> + <strong>Shift</strong>",t.append(c);const s=new class{constructor(e){this.language=this.checkLang(),this.keys=e,this.createKeyboard(),this.shiftPressed=!1,this.capslockPressed=!1,this.ctrlPressed=!1}checkLang(){let e=localStorage.getItem("lang");return e||(localStorage.setItem("lang","en"),e=localStorage.getItem("lang")),e}createKeyboard(){let e;this.keys.forEach((t=>{if(e!==t.row){const r=document.createElement("div");r.classList.add("keyboard__row"),document.querySelector(".keyboard").append(r),e=t.row}const r=document.createElement("div");r.classList.add("keyboard__button"),r.dataset.keyCode=t.code,r.innerHTML=t.system?t.name:t[this.language],document.querySelectorAll(".keyboard__row")[e].append(r),t.classes&&(r.classList=t.classes)}))}buttonInfo(e){return this.keys.filter((t=>t.code==e.dataset.keyCode))[0]}selection(){return document.querySelector(".textarea").selectionEnd}insert(e,t){let r,a=this.buttonInfo(e),o=document.querySelector(".textarea").selectionStart,c=t;if(null==a)return c;if(a.system)switch(a.code){case"Backspace":r=c.split(""),r.splice(o-1,1),c=r.join("");break;case"Delete":r=c.split(""),r.splice(o,1),c=r.join("");break;case"Tab":c+="\t";break;case"Enter":c+="\n";break;case"Space":c+=" "}else this.shiftPressed||this.capslockPressed?c+=a[`${this.language}Shift`]:c+=a[this.language];return c}press(e,t){if("ShiftLeft"==e||"ShiftRight"==e)switch(t){case"keydown":this.shiftPressed=!0;break;case"keyup":this.shiftPressed=!1}if("CapsLock"==e&&("keydown"!=t&&"mousedown"!=t||(this.capslockPressed=!this.capslockPressed)),"ControlLeft"==e||"ControlRight"==e)switch(t){case"keydown":this.ctrlPressed=!0;break;case"keyup":this.ctrlPressed=!1}}highlight(e,t,r){if("CapsLock"==t)"keydown"!=r&&"mousedown"!=r||(Array.from(e.classList).includes("active")?e.classList.remove("active"):e.classList.add("active"));else switch(r){case"keydown":e.classList.add("active");break;case"keyup":e.classList.remove("active")}}changeState(e,t,r){this.press(t,r),this.highlight(e,t,r),this.changeLang()}changeLang(){this.shiftPressed&&this.ctrlPressed&&("en"==this.language?(localStorage.setItem("lang","ru"),this.language=localStorage.getItem("lang")):(localStorage.setItem("lang","en"),this.language=localStorage.getItem("lang")),document.querySelector(".keyboard").innerHTML="",this.createKeyboard())}}(e);let n=e=>{e.preventDefault();let t=s.selection();const r=document.querySelector(`[data-key-code="${e.code}"]`);r&&("keydown"==e.type&&(a.value=s.insert(r,a.value),"Delete"==e.code&&a.setSelectionRange(t,t),"Backspace"==e.code&&a.setSelectionRange(t-1,t-1)),s.changeState(r,e.code,e.type))},i=e=>{"mousedown"==e.type&&(a.value=s.insert(e.target,a.value)),s.changeState(e.target,e.target.dataset.keyCode,e.type)};document.addEventListener("keydown",n),document.addEventListener("keyup",n),o.addEventListener("mousedown",i),o.addEventListener("mouseup",i)}}();
//# sourceMappingURL=main.ea8f74fc7f16cbfc2205.js.map